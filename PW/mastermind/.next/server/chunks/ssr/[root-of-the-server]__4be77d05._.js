module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},97614,a=>{"use strict";a.s(["default",()=>l],97614);var b=a.i(87924),c=a.i(72131);let d=["vermelho","azul","verde","amarelo","roxo","laranja"];function e({color:a,onChange:e,enabled:f=!0}){let[g,h]=(0,c.useState)(!1),i=(0,c.useRef)(null);return(0,c.useEffect)(()=>{function a(a){i.current&&!i.current.contains(a.target)&&h(!1)}return g&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[g]),(0,b.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,b.jsx)("div",{className:`peg peg-${a}`,onClick:f?()=>h(!0):void 0,style:{cursor:a?"default":"pointer"},children:!a&&""}),g&&e&&(0,b.jsx)("div",{ref:i,style:{position:"absolute",top:"110%",left:"50%",transform:"translateX(-50%)",background:"#222",border:"2px solid #00d4ff",borderRadius:"8px",padding:"0.5rem",zIndex:10,display:"flex",gap:"0.5rem"},children:d.map(a=>(0,b.jsx)("button",{className:`peg-${a}`,style:{width:30,height:30,borderRadius:"50%",border:"none",cursor:"pointer"},onClick:()=>{e(a),h(!1)}},a))})]})}let f=["correct","wrong-position","wrong"];function g({type:a,onChange:d}){let[e,g]=(0,c.useState)(!1),h=(0,c.useRef)(null);return(0,c.useEffect)(()=>{function a(a){h.current&&!h.current.contains(a.target)&&g(!1)}return e&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[e]),(0,b.jsxs)("div",{className:"relative inline-block ",children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full cursor-pointer feedback-${a}`,onClick:()=>g(!0)}),e&&(0,b.jsx)("div",{ref:h,className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 flex gap-2 p-2 bg-gray-900 border-2 border-cyan-500 rounded-lg z-10",children:f.map(a=>(0,b.jsx)("button",{className:`w-5 h-5 rounded-full feedback-${a}`,onClick:()=>{d(a),g(!1)},title:a},a))})]})}function h({feedback:a,onChange:c}){return(0,b.jsx)("div",{className:"flex items-center gap-2",children:a.map((d,e)=>(0,b.jsx)(g,{type:d,onChange:b=>{let d=[...a];d[e]=b,c(d)}},e))})}function i({secretCode:a,setSecretCode:c,enabled:d=!0}){return(0,b.jsxs)(b.Fragment,{children:[d?(0,b.jsx)("h3",{className:"text-white text-lg font-bold",children:"Configure o Código Secreto"}):(0,b.jsx)("h3",{className:"text-white text-lg font-bold",children:"Código Secreto: "}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4 items-center",children:a.map((f,g)=>(0,b.jsx)(e,{color:f,enabled:d,onChange:b=>{let d=[...a];d[g]=b,c(d)}},g))})]})}function j({rows:a,guessingRow:c,setGuessingRow:d,editingFeedback:f,setEditingFeedback:g,awaitingFeedback:j,secretCode:k}){return(0,b.jsxs)("div",{className:"flex flex-col items-center bg-[#16213e] p-6 border-[3px] border-[#00d4ff] relative shadow-[0_0_15px_#00d4ff,inset_0_0_15px_rgba(0,212,255,0.2)] w-full max-w-md",children:[a.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center",children:[a.pegs.map((a,c)=>(0,b.jsx)(e,{color:a,enabled:!1},c)),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-1",children:a.feedback.map((a,c)=>(0,b.jsx)("div",{className:`feedback-peg feedback-${a}`},c))})]},c)),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4 items-center",children:[!j&&c.pegs.map((a,f)=>(0,b.jsx)(e,{color:a,enabled:!j,onChange:a=>{let b=[...c.pegs];b[f]=a,d({...c,pegs:b})}},f)),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-1 col-start-2 col-span-2 items-center justify-center",children:j&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(h,{feedback:f,onChange:a=>g(a)})})})]}),j&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(i,{secretCode:k,setSecretCode:()=>{},enabled:!1})})]})}class k{isGuessing;secretCode=[];constructor(a){this.isGuessing=a}makeGuess(a){if(0===a.length)return this.getRandomGuess();let b=a[a.length-1],c=b.feedback.reduce((a,b)=>a+ +("correct"===b),0);switch(c){case 0:default:return this.getRandomGuess();case 1:case 2:case 3:return this.keepCorrectNumber(b,c);case 4:return console.log("não deveria chegar aqui"),b.pegs}}getRandomGuess(){let a=[];for(;a.length<4;){let b=d[Math.floor(Math.random()*d.length)];a.push(b)}return a}keepCorrectNumber(a,b){let c=[...a.pegs].sort(()=>.5-Math.random()).slice(0,b);for(;c.length<4;){let a=d[Math.floor(Math.random()*d.length)];c.push(a)}return c}generateRandomPassword(){return this.secretCode=this.getRandomGuess(),this.secretCode}giveFeedback(a){let b=[,,,,].fill("wrong"),c=[,,,,].fill(!1),d=[,,,,].fill(!1);for(let e=0;e<4;e++)a[e]===this.secretCode[e]&&(b[e]="correct",c[e]=!0,d[e]=!0);for(let e=0;e<4;e++)if(!d[e]){for(let f=0;f<4;f++)if(!c[f]&&a[e]===this.secretCode[f]){b[e]="wrong-position",c[f]=!0,d[e]=!0;break}}return b.sort(()=>Math.random()-.5)}}function l(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),[g,h]=(0,c.useState)(!1),[l,m]=(0,c.useState)(["empty","empty","empty","empty"]),[n,o]=(0,c.useState)(["default","default","default","default"]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),D=(0,c.useMemo)(()=>new k(B),[B]);function E(a){d(b=>[...b,a]),f({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),m(["empty","empty","empty","empty"]),h(!0)}function F(a,b){d(c=>[...c.slice(0,b),{...c[b],feedback:a},...c.slice(b+1)]),m(["empty","empty","empty","empty"]),h(!1),a.every(a=>"correct"===a)&&w(!0)}return(0,c.useEffect)(()=>{z&&!B&&o(D.generateRandomPassword())},[z]),(0,c.useEffect)(()=>{z&&!v&&(!B&&g&&setTimeout(()=>{F(D.giveFeedback(a[a.length-1].pegs),a.length-1)},500),B&&!g&&setTimeout(()=>{E({pegs:D.makeGuess(a),feedback:["empty","empty","empty","empty"]})},500))},[a,z]),(0,c.useEffect)(()=>{v&&(alert("Parabéns! Você adivinhou o código secreto!"),d([]),f({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),h(!1),m(["empty","empty","empty","empty"]),o(["default","default","default","default"]),w(!1),y(!1),C(!1),A(!1))},[v]),(0,c.useEffect)(()=>{a.length>=12&&!v&&(alert("Fim de jogo! Você atingiu o número máximo de tentativas."),d([]),f({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),h(!1),m(["empty","empty","empty","empty"]),o(["default","default","default","default"]),w(!1),y(!1),C(!1),A(!1))},[a,v]),(0,c.useEffect)(()=>{s(e.pegs.every(a=>"default"!==a))},[e]),(0,c.useEffect)(()=>{q(l.every(a=>"empty"!==a))},[l]),(0,c.useEffect)(()=>{u(n.every(a=>"default"!==a))},[n]),(0,b.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-[#16213e] p-6",children:[(0,b.jsx)("h2",{className:"text-white text-2xl font-bold",children:"Mastermind"}),!x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i,{secretCode:n,setSecretCode:o}),(0,b.jsx)("button",{onClick:()=>{A(!0),C(!1),y(!0)},className:"px-4 py-2 bg-purple-500 hover:bg-purple-400 text-white font-semibold rounded",children:"Bot Gera o Código Secreto"}),t&&(0,b.jsx)("button",{onClick:()=>{A(!0),C(!0),y(!0)},className:"px-4 py-2 bg-purple-500 hover:bg-purple-400 text-white font-semibold rounded",children:"Bot Adivinha o Código Secreto"})]}),x&&(0,b.jsx)(j,{rows:a,guessingRow:e,setGuessingRow:f,editingFeedback:l,setEditingFeedback:m,awaitingFeedback:g,secretCode:n}),!x&&(0,b.jsx)("button",{onClick:()=>y(!0),disabled:!t,className:"px-4 py-2 bg-blue-500 hover:bg-blue-400 text-white font-semibold rounded",children:"Iniciar Jogo"}),x&&!g&&(0,b.jsx)("button",{onClick:()=>{E({pegs:e.pegs,feedback:["empty","empty","empty","empty"]})},disabled:!r,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-white font-semibold rounded",children:"Submeter Jogada"}),x&&g&&(0,b.jsx)("button",{onClick:()=>{F(l,a.length-1)},disabled:!p,className:"px-4 py-2 bg-green-500 hover:bg-green-400 text-white font-semibold rounded",children:"Submeter Feedback"})]})}},17248,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(87924),c=a.i(97614);function d(){return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,b.jsx)(c.default,{})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4be77d05._.js.map