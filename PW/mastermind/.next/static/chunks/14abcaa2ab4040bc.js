(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95556,e=>{"use strict";e.s(["default",()=>m],95556);var t=e.i(43476),s=e.i(71645);let r=["vermelho","azul","verde","amarelo","roxo","laranja"];function a(e){let{color:a,onChange:n,enabled:l=!0}=e,[o,d]=(0,s.useState)(!1),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&d(!1)}return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]),(0,t.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,t.jsx)("div",{className:"peg peg-".concat(a),onClick:l?()=>d(!0):void 0,style:{cursor:a?"default":"pointer"},children:!a&&""}),o&&n&&(0,t.jsx)("div",{ref:i,style:{position:"absolute",top:"110%",left:"50%",transform:"translateX(-50%)",background:"#222",border:"2px solid #00d4ff",borderRadius:"8px",padding:"0.5rem",zIndex:10,display:"flex",gap:"0.5rem"},children:r.map(e=>(0,t.jsx)("button",{className:"peg-".concat(e),style:{width:30,height:30,borderRadius:"50%",border:"none",cursor:"pointer"},onClick:()=>{n(e),d(!1)}},e))})]})}let n=["correct","wrong-position","wrong"];function l(e){let{type:r,onChange:a}=e,[l,o]=(0,s.useState)(!1),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&o(!1)}return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,t.jsxs)("div",{className:"relative inline-block ",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full cursor-pointer feedback-".concat(r),onClick:()=>o(!0)}),l&&(0,t.jsx)("div",{ref:d,className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 flex gap-2 p-2 bg-gray-900 border-2 border-cyan-500 rounded-lg z-10",children:n.map(e=>(0,t.jsx)("button",{className:"w-5 h-5 rounded-full feedback-".concat(e),onClick:()=>{a(e),o(!1)},title:e},e))})]})}function o(e){let{feedback:s,onChange:r}=e;return(0,t.jsx)("div",{className:"flex items-center gap-2",children:s.map((e,a)=>(0,t.jsx)(l,{type:e,onChange:e=>{let t=[...s];t[a]=e,r(t)}},a))})}function d(e){let{secretCode:s,setSecretCode:r,enabled:n=!0}=e;return(0,t.jsxs)(t.Fragment,{children:[n?(0,t.jsx)("h3",{className:"text-white text-lg font-bold",children:"Configure o Código Secreto"}):(0,t.jsx)("h3",{className:"text-white text-lg font-bold",children:"Código Secreto: "}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4 items-center",children:s.map((e,l)=>(0,t.jsx)(a,{color:e,enabled:n,onChange:e=>{let t=[...s];t[l]=e,r(t)}},l))})]})}function i(e){let{rows:s,guessingRow:r,setGuessingRow:n,editingFeedback:l,setEditingFeedback:i,awaitingFeedback:c,secretCode:u}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center bg-[#16213e] p-6 border-[3px] border-[#00d4ff] relative shadow-[0_0_15px_#00d4ff,inset_0_0_15px_rgba(0,212,255,0.2)] w-full max-w-md",children:[s.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center",children:[e.pegs.map((e,s)=>(0,t.jsx)(a,{color:e,enabled:!1},s)),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1",children:e.feedback.map((e,s)=>(0,t.jsx)("div",{className:"feedback-peg feedback-".concat(e)},s))})]},s)),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4 items-center",children:[!c&&r.pegs.map((e,s)=>(0,t.jsx)(a,{color:e,enabled:!c,onChange:e=>{let t=[...r.pegs];t[s]=e,n({...r,pegs:t})}},s)),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 col-start-2 col-span-2 items-center justify-center",children:c&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o,{feedback:l,onChange:e=>i(e)})})})]}),c&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(d,{secretCode:u,setSecretCode:()=>{},enabled:!1})})]})}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class u{makeGuess(e){if(0===e.length)return this.getRandomGuess();let t=e[e.length-1],s=t.feedback.reduce((e,t)=>e+ +("correct"===t),0);switch(s){case 0:default:return this.getRandomGuess();case 1:case 2:case 3:return this.keepCorrectNumber(t,s);case 4:return console.log("não deveria chegar aqui"),t.pegs}}getRandomGuess(){let e=[];for(;e.length<4;){let t=r[Math.floor(Math.random()*r.length)];e.push(t)}return e}keepCorrectNumber(e,t){let s=[...e.pegs].sort(()=>.5-Math.random()).slice(0,t);for(;s.length<4;){let e=r[Math.floor(Math.random()*r.length)];s.push(e)}return s}generateRandomPassword(){return this.secretCode=this.getRandomGuess(),this.secretCode}giveFeedback(e){let t=[,,,,].fill("wrong"),s=[,,,,].fill(!1),r=[,,,,].fill(!1);for(let a=0;a<4;a++)e[a]===this.secretCode[a]&&(t[a]="correct",s[a]=!0,r[a]=!0);for(let a=0;a<4;a++)if(!r[a]){for(let n=0;n<4;n++)if(!s[n]&&e[a]===this.secretCode[n]){t[a]="wrong-position",s[n]=!0,r[a]=!0;break}}return t.sort(()=>Math.random()-.5)}constructor(e){c(this,"isGuessing",void 0),c(this,"secretCode",[]),this.isGuessing=e}}function m(){let[e,r]=(0,s.useState)([]),[a,n]=(0,s.useState)({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),[l,o]=(0,s.useState)(!1),[c,m]=(0,s.useState)(["empty","empty","empty","empty"]),[f,p]=(0,s.useState)(["default","default","default","default"]),[g,h]=(0,s.useState)(!1),[b,x]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1),[C,w]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),[E,R]=(0,s.useState)(!1),F=(0,s.useMemo)(()=>new u(E),[E]);function G(e){r(t=>[...t,e]),n({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),m(["empty","empty","empty","empty"]),o(!0)}function M(e,t){r(s=>[...s.slice(0,t),{...s[t],feedback:e},...s.slice(t+1)]),m(["empty","empty","empty","empty"]),o(!1),e.every(e=>"correct"===e)&&k(!0)}return(0,s.useEffect)(()=>{N&&!E&&p(F.generateRandomPassword())},[N]),(0,s.useEffect)(()=>{N&&!j&&(!E&&l&&setTimeout(()=>{M(F.giveFeedback(e[e.length-1].pegs),e.length-1)},500),E&&!l&&setTimeout(()=>{G({pegs:F.makeGuess(e),feedback:["empty","empty","empty","empty"]})},500))},[e,N]),(0,s.useEffect)(()=>{j&&(alert("Parabéns! Você adivinhou o código secreto!"),r([]),n({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),o(!1),m(["empty","empty","empty","empty"]),p(["default","default","default","default"]),k(!1),w(!1),R(!1),S(!1))},[j]),(0,s.useEffect)(()=>{e.length>=12&&!j&&(alert("Fim de jogo! Você atingiu o número máximo de tentativas."),r([]),n({pegs:["default","default","default","default"],feedback:["empty","empty","empty","empty"]}),o(!1),m(["empty","empty","empty","empty"]),p(["default","default","default","default"]),k(!1),w(!1),R(!1),S(!1))},[e,j]),(0,s.useEffect)(()=>{x(a.pegs.every(e=>"default"!==e))},[a]),(0,s.useEffect)(()=>{h(c.every(e=>"empty"!==e))},[c]),(0,s.useEffect)(()=>{v(f.every(e=>"default"!==e))},[f]),(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-[#16213e] p-6",children:[(0,t.jsx)("h2",{className:"text-white text-2xl font-bold",children:"Mastermind"}),!C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{secretCode:f,setSecretCode:p}),(0,t.jsx)("button",{onClick:()=>{S(!0),R(!1),w(!0)},className:"px-4 py-2 bg-purple-500 hover:bg-purple-400 text-white font-semibold rounded",children:"Bot Gera o Código Secreto"}),y&&(0,t.jsx)("button",{onClick:()=>{S(!0),R(!0),w(!0)},className:"px-4 py-2 bg-purple-500 hover:bg-purple-400 text-white font-semibold rounded",children:"Bot Adivinha o Código Secreto"})]}),C&&(0,t.jsx)(i,{rows:e,guessingRow:a,setGuessingRow:n,editingFeedback:c,setEditingFeedback:m,awaitingFeedback:l,secretCode:f}),!C&&(0,t.jsx)("button",{onClick:()=>w(!0),disabled:!y,className:"px-4 py-2 bg-blue-500 hover:bg-blue-400 text-white font-semibold rounded",children:"Iniciar Jogo"}),C&&!l&&(0,t.jsx)("button",{onClick:()=>{G({pegs:a.pegs,feedback:["empty","empty","empty","empty"]})},disabled:!b,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-white font-semibold rounded",children:"Submeter Jogada"}),C&&l&&(0,t.jsx)("button",{onClick:()=>{M(c,e.length-1)},disabled:!g,className:"px-4 py-2 bg-green-500 hover:bg-green-400 text-white font-semibold rounded",children:"Submeter Feedback"})]})}},3998,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),s=e.i(95556);function r(){return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,t.jsx)(s.default,{})})}}]);